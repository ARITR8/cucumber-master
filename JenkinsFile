stage 'Init'



node ('xx-node') {
                    
                

stage ('Checkout') {
          checkout scm
      }
      
      stage ('Maven Build') {
                        
                       
                            
                            bat 'mvn test' }
                       
			
          stage('Cucumber Reports') {
        
		
			    cucumber buildStatus: 'UNSTABLE',
			    
			    fileIncludePattern: '**/cucumber.json',
			    jsonReportDirectory: 'target'
			

                              
        
			
                          }
                          
               stage('Html report') {
         
            publishHTML target: [
                reportName: 'Test',
                reportDir: 'target',
                reportFiles: 'cucumber/index.html', 
             
                keepAll: true,
                alwaysLinkToLastBuild: true,
                allowMissing: false
            ]               
              
                 }       
                    
                 }
                    

