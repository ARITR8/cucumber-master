stage 'Init'



node ('xxnode') {
                    
                

stage ('Checkout') {
          checkout scm
      }
      
      stage ('Maven Build') {
                        
                  //   echo $M2_HOME
					//	echo $PATH
                            
                         //  bat 'mvn test'
                         mvn test
                            
                             }
                       
			
          stage('Cucumber Reports') {
        
		
			    cucumber buildStatus: 'UNSTABLE',
			    
			    fileIncludePattern: '**/cucumber.json',
			    jsonReportDirectory: 'target'
			

                              
        
			
                          }
                          
               stage('Html report') {
         
            publishHTML target: [
                reportName: 'Test',
                reportDir: 'target/cucumber',
                reportFiles: 'index.html', 
             
                keepAll: true,
                alwaysLinkToLastBuild: true,
                allowMissing: false
            ]               
              
                 }       
                    
                 }
                    

